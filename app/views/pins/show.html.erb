<div class="container margin_100_55 reset-ol-ul">
  <div class="row">
    <div class="col-lg-9">
      <div class="bloglist pin-show">
        <div class="header">
          <div class="hrow">
            <div class="hrow">
              <% user_profile = @pin.user.profile %>
              <%= render(Profiles::AvatarComponent.new(src: cloudfront_src(filters: '200x200/filters:format(jpeg)/filters:quality(40)', thumbor_crop: thumbor_crop(user_profile.avatar_crop_constraints), image_key: user_profile.avatar.key ))) %>
              <div class="vcolumn">
                <%= link_to @pin.user.username, profile_path(@pin.user), class: 'username' %>
                <small class="creation-time"><%= l(@pin.created_at) %></small>
              </div>
            </div>
            <div class="hrow">
              <%= render Pins::Boards::AddToBoardButtonComponent.new(pin: @pin, current_user: current_user) %>
              <%= render Pins::LikeButtonComponent.new(pin: @pin, current_user: current_user) %>
            </div>
          </div>
          <div class="address"><i class="icon_pin_alt"></i><span><%= @pin.city_country %></span></div>
          <div class="hrow nowrap">
            <h1><%= @pin.name %></h1>
            <%= render(Pins::MoreButtonComponent.new(pin: @pin, current_user: current_user, turbo: false)) %>
          </div>
          <div class="hrow negative-margin-top">
            <div class="tags"><%= render(Taggable::TagListComponent.new(tags: @pin.tags)) %></div>
          </div>
        </div>
        <!-- /post meta -->
        <div class="post-content">
          <%= @pin.description %>
        </div>
        <!-- /post -->
      </div>
      <!-- /single-post -->
    </div>
    <!-- /col -->

    <aside class="col-lg-3 blog">
      <% nearby_pins = @pin.geocode.present? && @pin.nearbys(1).limit(3) %>
      <% if nearby_pins.present? %>
        <div class="widget">
          <div class="widget-title">
            <h4><%= t('.nearby_pins') %></h4>
          </div>
          <ul class="pins-list">
            <%= render(Pins::PinListItemComponent.with_collection(nearby_pins)) %>
          </ul>
        </div>
      <% end %>
      <!-- /widget -->
    </aside>
    <!-- /aside -->
  </div>
  <!-- /row -->
</div>
<!-- /container -->
