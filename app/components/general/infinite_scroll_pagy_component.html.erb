<% if format == :html %>
  <%= tag.div id: 'infinite-scroll-pagination' do %>
    <div data-controller="infinite-scroll" data-infinite-scroll-next-page-url-value="<%= pagy_url_for(pagy, pagy.next) %>"
                                           data-infinite-scroll-next-page-value="<%= pagy.next %>">
      <div data-infinite-scroll-target="scrollArea"></div>
      <div class="d-flex justify-content-center">
        <div class="spinner-border pinmapper m-4 d-none" data-infinite-scroll-target="spinner"></div>
      </div>
    </div>
  <% end  %>
<% elsif format == :turbo_stream %>
  <%= turbo_stream.update 'infinite-scroll-pagination' do %>
    <div data-controller="infinite-scroll" data-infinite-scroll-next-page-url-value="<%= pagy_url_for(pagy, pagy.next) %>"
                                           data-infinite-scroll-next-page-value="<%= pagy.next %>">
      <div data-infinite-scroll-target="scrollArea"></div>
      <div class="d-flex justify-content-center">
        <div class="spinner-border pinmapper m-4 d-none" data-infinite-scroll-target="spinner"></div>
      </div>
    </div>
  <% end  %>
<% end %>